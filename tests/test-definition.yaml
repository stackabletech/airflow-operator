#
# These tests can run against an OpenShift cluster, provided you perform the following
# steps manually before starting them with scripts/run_tests.sh
#
# 1. Label a node in the cluster with "node=2"
#
#   kubectl label nodes <node name> node=2
#
# 2. Set the "openshift" dimension below to "true" (with quotes)
---
dimensions:
  - name: airflow
    values:
      - 2.2.3-python38-stackable0.3.0
      - 2.2.4-python39-stackable0.3.0
      - 2.2.5-python39-stackable0.3.0
  - name: ldap-authentication
    values:
      - no-tls
      - insecure-tls
      - server-verification-tls
  - name: openshift
    values:
      - "false"
tests:
  - name: mount-dags-pvc
    dimensions:
      - airflow
      - openshift
  - name: smoke
    dimensions:
      - airflow
      - openshift
  - name: mount-dags-configmap
    dimensions:
      - airflow
      - openshift
  - name: ldap
    dimensions:
      - airflow
      - openshift
      - ldap-authentication
  - name: resources
    dimensions:
      - airflow
      - openshift
  - name: orphaned-resources
    dimensions:
      - airflow
      - openshift
